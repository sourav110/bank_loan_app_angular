<div class="container my-4 p-4 shadow rounded bg-light">
    <h2 class="mb-3 fw-bold text-center heading">
        <span> <i class="bi bi-bank2"></i></span>
        Bank Application
        <span> <i class="bi bi-bank2"></i></span>
    </h2>
    <form [formGroup]="loanAppForm">
        <div class="mb-4">
            <div class="row">
                <div class="col-lg-12">
                    <h3 class="mb-3 text-primary fw-bold heading">Personal Details</h3>
                    <div class="row g-1 mt-1">
                        <div class="col-md-6">
                            <label for="fullName" class="form-label">Full Name :</label>
                            <div class="input-group shadow-sm">
                                <span class="input-group-text bg-light"><i class="bi bi-person-lines-fill"></i></span>
                                <input id="fullName" formControlName="fullName" class="form-control border-2 shadow-sm"
                                    placeholder="Enter your full name" />
                            </div>
                        </div>
                    </div>
                    <div class="row g-1 mt-1">
                        <div class="col-md-3">
                            <label for="email" class="form-label">Email :</label>
                            <div class="input-group shadow-sm">
                                <span class="input-group-text bg-light">
                                    <i class="bi bi-envelope-fill"></i>
                                </span>
                                <input id="email" formControlName="email" class="form-control border-2" placeholder="Enter your email address"
                                    type="email" required />
                            </div>
                        </div>
                        <div class="col-md-3">
                            <label for="phone" class="form-label">Phone Number :</label>
                            <div class="input-group shadow-sm">
                                <span class="input-group-text bg-light">
                                    <i class="bi bi-telephone-fill"></i> <!-- Phone Icon -->
                                </span>
                                <input id="phone" formControlName="phone"  class="form-control border-2" placeholder="Enter your phone number"
                                    type="tel" pattern="[\+][0-9]{1,4}[0-9]{7,12}" required />
                            </div>
                        </div>
                        <div class="col-md-3">
                            <label for="dateOfBirth" class="form-label">Date of Birth:</label>
                            <div class="input-group shadow-sm">
                                <span class="input-group-text bg-light">
                                    <i class="bi bi-calendar-date-fill"></i> <!-- Bootstrap Icon for Date -->
                                </span>
                                <input type="date" formControlName="dateOfBirth" id="dateOfBirth" class="form-control border-2"
                                    placeholder="yyyy-mm-dd" required />
                            </div>
                        </div>
                    </div>

                    <div class="row g-1 mt-1">
                        <div class="col-md-3">
                            <label for="panCard" class="form-label">PAN Card:</label>
                            <div class="input-group shadow-sm">
                                <span class="input-group-text bg-light">
                                    <i class="bi bi-credit-card-fill"></i>
                                    <!-- Bootstrap Icon for credit card (similar to PAN Card) -->
                                </span>
                                <input id="panCard" formControlName="panCard" class="form-control border-2"
                                    placeholder="Enter your PAN Card number" type="text" maxlength="10" />
                            </div>
                        </div>
                        <div class="col-md-3">
                            <label for="salary" class="form-label">Annual Income:</label>
                            <div class="input-group shadow-sm">
                                <span class="input-group-text bg-light"><i class="bi bi-currency-dollar"></i></span>
                                <input id="salary" formControlName="annualIncome" class="form-control border-2"
                                    placeholder="Enter your annual income" />
                            </div>
                        </div>
                        <div class="col-md-3">
                            <label for="employmentStatus" class="form-label">Employment Status:</label>
                            <div class="input-group shadow-sm">
                                <span class="input-group-text bg-light">
                                    <i class="bi bi-briefcase-fill"></i> <!-- Bootstrap Icon for Employment -->
                                </span>
                                <select id="employmentStatus" formControlName="employmentStatus" class="form-control border-2" required>
                                    <option value="" disabled selected>Select your employment status</option>
                                    <option value="employed">Employed</option>
                                    <option value="unemployed">Unemployed</option>
                                    <option value="freelancer">Freelancer</option>
                                    <option value="student">Student</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="row  mt-1 pt-1">
                        <div class="col-md-4">
                            <label for="applicationStatus" class="form-label">Application Status:</label>
                            <div class="input-group shadow-sm">
                                <span class="input-group-text bg-light">
                                    <i class="bi bi-file-earmark-check-fill"></i> <!-- Bootstrap Icon for status -->
                                </span>
                                <select id="applicationStatus" formControlName="applicationStatus" class="form-select border-2" required>
                                    <option value="" disabled selected>Select Status</option>
                                    <option value="pending">Pending</option>
                                    <option value="approved">Approved</option>
                                    <option value="rejected">Rejected</option>
                                    <option value="done">Done</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <label for="creditScore" class="form-label">Credit Score:</label>
                            <div class="input-group shadow-sm">
                                <span class="input-group-text bg-light">
                                    <i class="bi bi-credit-card-fill"></i> <!-- Bootstrap Icon for Credit Score -->
                                </span>
                                <input type="number" formControlName="creditScore" id="creditScore" class="form-control border-2"
                                    placeholder="Enter your credit score" required />
                            </div>
                        </div>

                        <div class="col-md-4">
                            <label for="assets" class="form-label">Assets:</label>
                            <div class="input-group shadow-sm">
                                <span class="input-group-text bg-light">
                                    <i class="bi bi-archive-fill"></i> <!-- Bootstrap Icon for Assets -->
                                </span>
                                <textarea id="assets" formControlName="assets" class="form-control border-2" placeholder="Describe your assets"
                                    rows="1" required></textarea>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <h5 class="mt-4 text-primary fw-bold heading ">Address Details</h5>

                    <div class="row mt-2 pt-2">
                        <div class="col-md-4">
                            <label for="city" class="form-label">City:</label>
                            <div class="input-group shadow-sm">
                                <span class="input-group-text bg-light">
                                    <i class="bi bi-geo-alt-fill"></i> <!-- Bootstrap Icon for City -->
                                </span>
                                <input type="text" id="city" formControlName="city" class="form-control border-2" placeholder="Enter your city"
                                    required />
                            </div>
                        </div>
                        <div class="col-md-4">
                            <label for="state" class="form-label">State:</label>
                            <div class="input-group shadow-sm">
                                <span class="input-group-text bg-light">
                                    <i class="bi bi-geo-alt-fill"></i> <!-- Bootstrap Icon for State -->
                                </span>
                                <input type="text" id="state" formControlName="state" class="form-control border-2"
                                    placeholder="Enter your state" required />
                            </div>
                        </div>
                        <div class="col-md-4">
                            <label for="zipCode" class="form-label">Zip Code:</label>
                            <div class="input-group shadow-sm">
                                <span class="input-group-text bg-light">
                                    <i class="bi bi-geo-alt-fill"></i> <!-- Bootstrap Icon for Zip Code -->
                                </span>
                                <input type="text" id="zipCode" formControlName="zipCode" class="form-control border-2"
                                    placeholder="Enter your zip code" required />
                            </div>
                        </div>


                        <div class="col-md-6">
                            <label for="address" class="form-label">Address:</label>
                            <div class="input-group shadow-sm">
                                <span class="input-group-text bg-light">
                                    <i class="bi bi-house-door-fill"></i> <!-- Bootstrap Icon for Address -->
                                </span>
                                <textarea id="address" formControlName="address" class="form-control border-2" placeholder="Enter your address"
                                    rows="2" required></textarea>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
        </div>
        <hr>
        <div class="mb-4" formArrayName="loans">
            <div class="row g-3">
                <!-- <div class="col-lg-7">
                    <h4 class="mt-4 text-primary fw-bold heading">Loan Details</h4>
                    <table class="table table-striped table-bordered">
                        <thead class="table-dark">
                            <tr>
                                <th>Sr No</th>
                                <th> <i class="bi bi-bank" style="color: white !important;"></i> <span class="ms-2">
                                        Bank Name </span>
                                </th>
                                <th> <i class="bi bi-currency-dollar" style="color: white !important;"></i> <span
                                        class="ms-2"> Loan Amount </span>
                                </th>
                                <th> <i class="bi bi-credit-card" style="color: white !important;"></i> <span
                                        class="ms-2"> EMI </span>
                                </th>

                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>ABC Bank</td>
                                <td>2,00,000</td>
                                <td>12,500</td>
                            </tr>
                        </tbody>
                    </table>
                </div> -->
                <div class="col-lg-5">
                    <h5 class="mt-4 text-primary fw-bold heading text-center">Add Loan Details</h5>
                    <div class="col-md-3 d-flex text-end">
                        <button class="btn btn-sm text-white mt-0 addmore" (click)="addNewLoan()">
                            Add More
                        </button>
                    </div>
                    <br>

                    @for (item of loanList.controls; track $index) {
                        <div class="row g-3" [formGroupName]="$index">
                            <div class="col-md-3">
                                <label for="bankName" class="form-label">Bank Name:</label>
                                <input id="bankName" formControlName="bankName" class="form-control  border-2 shadow-sm"
                                    placeholder="Enter bank name" />
                            </div>
                            <div class="col-md-3">
                                <label for="loanAmount" class="form-label">Loan Amount:</label>
                                <input id="loanAmount" formControlName="loanAmount" class="form-control  border-2 shadow-sm" type="number"
                                    placeholder="Enter amount" />
                            </div>
                            <div class="col-md-3">
                                <label for="emi" class="form-label">EMI:</label>
                                <input id="emi" formControlName="emi" class="form-control  border-2 shadow-sm" type="number"
                                    placeholder="Enter EMI" />
                            </div>
                            <div class="col-md-3 d-flex align-items-end">
                                <button class="btn btn-sm btn-danger text-white mt-0 addmore" (click)="removeLoanItem($index)">
                                    Remove
                                </button>
                            </div>
                        </div>
                    }
                    
                </div>
            </div>
        </div>
        <div class="d-flex justify-content-center gap-2">
            <button class="btn text-white"
                style="background: linear-gradient(to right, #00c6ff, #0072ff);" (click)="onSaveLoan()">save</button>
            <button class="btn text-white" style="background: linear-gradient(to right, #11998e, #38ef7d);">
                Update</button>
            <button class="btn text-white" style="background: linear-gradient(to right, #ff5f6d, #ffc371);">
                Delete</button>
        </div>
    </form>
</div>